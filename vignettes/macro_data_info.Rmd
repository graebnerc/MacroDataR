---
title: "Macroeconomic data"
author: "Claudius GrÃ¤bner"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Macroeconomic data}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# Information about the data set

## Meta data
Here goes the documentation of the data set. Note that you can also look at `data-raw/macro_data.R` to see how the data gets constructed.


| Variable         | Description                                                                                                      | Unit                          | Source           |
| -----------------|:----------------------------------------------------------------------------------------------------------------:| :----------------------------:|:----------------:|
| iso3c            | The iso3 country code                                                                                            | iso3c                         | [Info][1]        |
| year             | The year of observation                                                                                          |   NA                          |                  |
| res_rents        | Natural ressource rents                                                                                          | % of GDP                      | [World Bank][2]  |
| cpi              | Harmonised consumer price index (all items)                                                                      | 2015 = 100                    | [AMECO][3]       |
| unemp_rate       | Unemployment rate                                                                                                | % of active population        | [AMECO][3]       |
| cap_form         | Gross fixed capital formation, total economy                                                                     | current prices                | [AMECO][3]       |
| wage_share       | Adjusted wage share                                                                                              | % of GDP                      | [AMECO][3]       |
| rulc             | Real unit labour costs: total economy (Ratio of compensation per employee to nominal GDP per person employed.)   | 2010=100                      | [AMECO][3]       |
| nulc_nac         | Nominal unit labour costs: total economy (Ratio of compensation per employee to real GDP per person employed.)   | National currency: 2010 = 100 | [AMECO][3]       |
| nulc_eur         | Nominal unit labour costs: total economy (Ratio of compensation per employee to real GDP per person employed.)   | EUR: 2010 = 100               | [AMECO][3]       |


[1]: https://unstats.un.org/unsd/tradekb/knowledgebase/country-code
[2]: https://data.worldbank.org/indicator/ny.gdp.totl.rt.zs
[3]: https://ec.europa.eu/info/business-economy-euro/indicators-statistics/economic-databases/macro-economic-database-ameco/download-annual-data-set-macro-economic-database-ameco_en

## Open issues

* Where did **Current account balance to GDP' come from** It says AMECO, but I could not find it.
* Where did **Public debt to GDP** come from? It says AMECO, but I could not find it.
* Add more tests for duplicated rows, just as with AMECO


## Descriptive statistics
Here is more information about the data.
```{r, warning=FALSE, message=FALSE, echo=FALSE}
library(tidyverse)
library(knitr)
library(MacroDataR)
macro_data_descriptives <- macro_data %>%
  tidyr::gather(variable, value, -iso3c, -year) %>%
  group_by(variable) %>%
  summarise(mean=mean(value, na.rm=T),
            sd=sd(value, na.rm=T),
            obs=sum(!is.na(value))) %>%
  ungroup()
kable(macro_data_descriptives, caption = "The descriptive statistics")
```

# Information about the package

The package can be used to automatically update the whole dataset.
This way, it is straightforward to use newly published data.

To this end, you can use the function `update_macro_data`, which automatically recompiles the whole dataset.
See `help("update_macro_data", package = "MacroDataR")` for more details.
